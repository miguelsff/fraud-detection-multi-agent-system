# ============================================================================
# Backend Environment Variables Template
# ============================================================================
#
# This project uses 2 environment-specific .env files:
#   - .env.development  → Local development (default)
#   - .env.production   → Production/Azure (cloud)
#
# How to use:
#   1. Copy this file to .env.development (for local dev)
#   2. Update values according to your environment
#   3. Set APP_ENV environment variable to switch:
#      - APP_ENV=development (default, local)
#      - APP_ENV=production (Azure)
#
# Priority order (highest to lowest):
#   1. System environment variables (Container Apps injects from Key Vault)
#   2. .env.{APP_ENV} file
#   3. .env file (fallback)
#   4. Default values in config.py
# ============================================================================

# --- LLM Configuration ---
# Development: Ollama (local) | Production: Azure OpenAI via Managed Identity
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen3:30b
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_DEPLOYMENT=gpt-5.2-chat
AZURE_OPENAI_API_VERSION=2025-03-01-preview
AZURE_CLIENT_ID=
USE_AZURE_OPENAI=false

# --- Database ---
# Connection parts (production: DATABASE_PASSWORD injected from Key Vault)
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=fraud_user
DATABASE_NAME=fraud_detection
DATABASE_PASSWORD=
# Full URL fallback (used when DATABASE_PASSWORD is empty)
DATABASE_URL=postgresql+asyncpg://fraud_user:YOUR_PASSWORD_HERE@localhost:5432/fraud_detection

# --- ChromaDB ---
CHROMA_PERSIST_DIR=./data/chroma
CHROMA_AZURE_STORAGE_ACCOUNT=
CHROMA_AZURE_SHARE_NAME=chromadb

# --- App Configuration ---
APP_ENV=development
LOG_LEVEL=DEBUG
API_HOST=0.0.0.0
API_PORT=8000

# --- CORS ---
CORS_FRONTEND_PROD_URL=http://localhost:3000
CORS_FRONTEND_STAGING_URL=http://localhost:3000

# --- External APIs ---
# Register at opensanctions.org for free API key
# Leave empty for graceful degradation
OPENSANCTIONS_API_KEY=

# --- Feature Flags ---
THREAT_INTEL_ENABLE_OSINT=true
THREAT_INTEL_ENABLE_SANCTIONS=true
THREAT_INTEL_OSINT_MAX_RESULTS=5
